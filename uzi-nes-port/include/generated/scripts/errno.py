import os

gen_file_path = 'include/generated/errno.h'

file_head = \
"""#ifndef __GENERATED_ERRNO_H__
#define __GENERATED_ERRNO_H__

/* DO NOT EDIT - Generated by include/generated/scripts/errno.py */

/*
 * Error codes
 */

"""

file_tail = \
"""
#endif /* __GENERATED_ERRNO_H__ */
"""

errno_map = {
	"EPERM"         : 1,
	"ENOENT"        : 2,
	"ESRCH"         : 3,
	"EINTR"         : 4,
	"EIO"           : 5,
	"ENXIO"         : 6,
	"E2BIG"         : 7,
	"ENOEXEC"       : 8,
	"EBADF"         : 9,
	"ECHILD"        : 10,
	"EAGAIN"        : 11,
	"ENOMEM"        : 12,
	"EACCES"        : 13,
	"EFAULT"        : 14,
	"ENOTBLK"       : 15,
	"EBUSY"         : 16,
	"EEXIST"        : 17,
	"EXDEV"         : 18,
	"ENODEV"        : 19,
	"ENOTDIR"       : 20,
	"EISDIR"        : 21,
	"EINVAL"        : 22,
	"ENFILE"        : 23,
	"EMFILE"        : 24,
	"ENOTTY"        : 25,
	"ETXTBSY"       : 26,
	"EFBIG"         : 27,
	"ENOSPC"        : 28,
	"ESPIPE"        : 29,
	"EROFS"         : 30,
	"EMLINK"        : 31,
	"EPIPE"         : 32,
	"ENAMETOOLONG"  : 63,
}

def main():
    with open(gen_file_path, 'w') as f:
        f.write(file_head)
        f.write('#ifdef UZI\n')
        for e_code, e_val in errno_map.items():
            f.write(f'#define {e_code:20} {e_val}\n')
        f.write('#else\n')
        for e_code, e_val in errno_map.items():
            user_e_code = f'UZI_{e_code}'
            f.write(f'#define {user_e_code:20} {e_val}\n')
        f.write('#endif\n')
        f.write(file_tail)

main()
